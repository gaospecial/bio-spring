<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title> R中的基础数据结构 | BIO-SPRING</title>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@v1.13.54/css/article.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils/css/heading-anchor.min.css">
    <link rel="stylesheet" href="/bio-spring/css/style.css" />
    <link rel="stylesheet" href="/bio-spring/css/fonts.css" />
    <link rel="stylesheet" href="/bio-spring/css/custom.css" />
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="R中的基础数据结构">
  <meta name="twitter:description" content="创建几个基本的变量。
v = 1:24 m = matrix(v, nrow = 4) a = array(v, dim = c(2,3,4)) 这些变量都保存了 1 - 24 这几个数字。不过，它们所属的类是不同的。
v ## [1] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 m ## [,1] [,2] [,3] [,4] [,5] [,6] ## [1,] 1 5 9 13 17 21 ## [2,] 2 6 10 14 18 22 ## [3,] 3 7 11 15 19 23 ## [4,] 4 8 12 16 20 24 a ## , , 1 ## ## [,1] [,2] [,3] ## [1,] 1 3 5 ## [2,] 2 4 6 ## ## , , 2 ## ## [,1] [,2] [,3] ## [1,] 7 9 11 ## [2,] 8 10 12 ## ## , , 3 ## ## [,1] [,2] [,3] ## [1,] 13 15 17 ## [2,] 14 16 18 ## ## , , 4 ## ## [,1] [,2] [,3] ## [1,] 19 21 23 ## [2,] 20 22 24 变量的类 在R语言中，typeof() 函数用于获取一个对象的基本数据类型。它返回一个描述对象数据类型的字符串。">


  </head>

  <body>

    <nav class="menu sticky-top">
    <ul>
      <li class="left">
        <a href="/"><span>BIO-SPRING</span></a>
      </li>
      
      <li>
        <a href="/bio-spring">Home</a>
      </li>
      
      <li>
        <a href="/bio-spring/post/">Blog Post</a>
      </li>
      
      <li>
        <a href="/bio-spring/publication/full-publication-list/">Publication</a>
      </li>
      
      <li>
        <a href="/bio-spring/work/">Work</a>
      </li>
      
      <li id="menu-search">
        <a href="/bio-spring/#">Search</a>
      </li>
      
    </ul>
    </nav>


<div class="container single">
<main>

<div class="article-meta">
<h1><span class="title">R中的基础数据结构</span></h1>

<h3 class="author">
Package Build
</h3>

<h3 class="date">2023-12-04</h3>
<p class="terms">
  
  
  Categories: <a href="/categories/%E5%85%B6%E5%AE%83">其它</a> <a href="/categories/%E7%94%9F%E7%89%A9%E5%AD%A6">生物学</a> <a href="/categories/%E4%BF%A1%E6%81%AF%E6%8A%80%E6%9C%AF">信息技术</a> 
  
  
  
  Tags: <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">学习笔记</a> <a href="/tags/%E7%9F%A9%E9%98%B5">矩阵</a> <a href="/tags/%E5%90%91%E9%87%8F">向量</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">数据结构</a> 
  
  
</p>
</div>

<div class="article">
<p>创建几个基本的变量。</p>
<pre><code class="language-r">v = 1:24
m = matrix(v, nrow = 4)
a = array(v, dim = c(2,3,4))
</code></pre>
<p>这些变量都保存了 1 - 24 这几个数字。不过，它们所属的类是不同的。</p>
<pre><code class="language-r">v
</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
</code></pre>
<pre><code class="language-r">m
</code></pre>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    1    5    9   13   17   21
## [2,]    2    6   10   14   18   22
## [3,]    3    7   11   15   19   23
## [4,]    4    8   12   16   20   24
</code></pre>
<pre><code class="language-r">a
</code></pre>
<pre><code>## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]    7    9   11
## [2,]    8   10   12
## 
## , , 3
## 
##      [,1] [,2] [,3]
## [1,]   13   15   17
## [2,]   14   16   18
## 
## , , 4
## 
##      [,1] [,2] [,3]
## [1,]   19   21   23
## [2,]   20   22   24
</code></pre>
<h2 id="变量的类">变量的类</h2>
<p>在R语言中，<code>typeof()</code> 函数用于获取一个对象的<strong>基本数据类型</strong>。它返回一个描述对象数据类型的字符串。</p>
<p>以下是 <code>typeof()</code> 函数的一些常见返回值：</p>
<ul>
<li><strong>&ldquo;integer&rdquo;：</strong> 整数类型。</li>
<li><strong>&ldquo;double&rdquo;：</strong> 浮点数类型。</li>
<li><strong>&ldquo;character&rdquo;：</strong> 字符串类型。</li>
<li><strong>&ldquo;logical&rdquo;：</strong> 逻辑类型。</li>
<li><strong>&ldquo;complex&rdquo;：</strong> 复数类型。</li>
<li><strong>&ldquo;raw&rdquo;：</strong> 二进制原始数据类型。</li>
<li><strong>&ldquo;list&rdquo;：</strong> 列表类型。</li>
<li><strong>&ldquo;NULL&rdquo;：</strong> 表示空值。</li>
</ul>
<p>这个函数在编写R代码时用于检查变量的类型，有时候在处理不同类型的数据时会很有用。需要注意的是，R是一种动态类型语言，变量的数据类型可以在运行时改变。虽然 <code>typeof()</code> 提供了对象的底层类型，但有时使用其他函数如 <code>class()</code> 或 <code>str()</code> 可能更有助于更全面地理解对象的结构和属性。</p>
<pre><code class="language-r">typeof(v)
</code></pre>
<pre><code>## [1] &quot;integer&quot;
</code></pre>
<pre><code class="language-r">typeof(m)
</code></pre>
<pre><code>## [1] &quot;integer&quot;
</code></pre>
<pre><code class="language-r">typeof(a)
</code></pre>
<pre><code>## [1] &quot;integer&quot;
</code></pre>
<p>在R语言中，<code>class()</code> 函数用于获取对象的类别（class）。类别是一个用来描述对象类型的属性，它是面向对象编程中的一个概念。在R中，类别通常与S3对象系统相关联。</p>
<p><code>class()</code> 函数返回一个描述对象类别的字符向量。对于基本数据类型，它通常返回R内置的基本类别，例如 &ldquo;numeric&rdquo;、&ldquo;character&rdquo;、&ldquo;logical&quot;等。对于更复杂的对象，它可以返回用户定义的类别。</p>
<p>有时，<code>class()</code> 和 <code>typeof()</code> 可能返回相似的结果，但它们的用途略有不同。<code>typeof()</code> 返回底层的数据类型，而 <code>class()</code> 返回更高级别的对象类别。例如，在处理用户定义的类时，<code>class()</code> 更为有用。</p>
<pre><code class="language-r"># 示例：用户定义的类
setClass(&quot;Person&quot;, slots = c(name = &quot;character&quot;, age = &quot;numeric&quot;))
person &lt;- new(&quot;Person&quot;, name = &quot;Alice&quot;, age = 30)

typeof(person)  # 返回 &quot;S4&quot;
</code></pre>
<pre><code>## [1] &quot;S4&quot;
</code></pre>
<pre><code class="language-r">class(person)  # 返回 &quot;Person&quot;
</code></pre>
<pre><code>## [1] &quot;Person&quot;
## attr(,&quot;package&quot;)
## [1] &quot;.GlobalEnv&quot;
</code></pre>
<p>在上面的示例中，<code>typeof(person)</code> 返回 &ldquo;S4&rdquo;，指示这是一个S4对象，而 <code>class(person)</code> 返回 &ldquo;Person&rdquo;，指示它是一个用户定义的 &ldquo;Person&rdquo; 类对象。</p>
<p>在这里，向量 <code>v</code> 的类是 <code>integer</code>；矩阵 <code>m</code> 的类是 <code>matrix</code> 和 <code>array</code>；数组 <code>a</code> 的类是 <code>array</code>。</p>
<pre><code class="language-r">class(v)
</code></pre>
<pre><code>## [1] &quot;integer&quot;
</code></pre>
<pre><code class="language-r">class(m)
</code></pre>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;
</code></pre>
<pre><code class="language-r">class(a)
</code></pre>
<pre><code>## [1] &quot;array&quot;
</code></pre>
<h2 id="变量的内存性能">变量的内存性能</h2>
<p>在 R 语言中，<code>lobstr</code> 包是一个用于分析和可视化 R 对象的包。该包提供了一些有用的函数，可以帮助你更深入地了解 R 中的对象的结构、内存使用和其他相关信息。</p>
<pre><code class="language-r">library(lobstr)
</code></pre>
<p>以下是一些 <code>lobstr</code> 包的主要功能：</p>
<ol>
<li><strong><code>obj_addr()</code> 函数：</strong> 返回对象在内存中的地址。</li>
</ol>
<pre><code class="language-r">library(lobstr)

x &lt;- c(1, 2, 3)
obj_addr(x)
</code></pre>
<pre><code>## [1] &quot;0x120c30ff8&quot;
</code></pre>
<ol start="2">
<li><strong><code>obj_size()</code> 函数：</strong> 返回对象在内存中占用的空间大小。</li>
</ol>
<pre><code class="language-r">y &lt;- data.frame(A = 1:5, B = letters[1:5])
obj_size(y)
</code></pre>
<pre><code>## 1.81 kB
</code></pre>
<ol start="3">
<li><strong><code>ref()</code> 函数：</strong> 返回对象的引用计数。</li>
</ol>
<pre><code class="language-r">z &lt;- list(a = 1, b = 2, c = 3)
ref(z)
</code></pre>
<pre><code>## █ [1:0x1314b1558] &lt;named list&gt; 
## ├─a = [2:0x15039ad60] &lt;dbl&gt; 
## ├─b = [3:0x15039ad98] &lt;dbl&gt; 
## └─c = [4:0x15039add0] &lt;dbl&gt;
</code></pre>
<p><code>lobstr</code> 包的这些函数返回一些<strong>底层的、高级的或专业的</strong>信息，帮助用户了解R中对象的内部结构、内存使用情况以及引用计数等方面信息。虽然对于一般的数据分析和编程任务来说可能并不总是必要，但是对于开发者在调试、性能优化或对内存使用进行更深入分析时是非常有帮助的。</p>
<p>查看 3 个变量的内存地址及占用内存空间大小。</p>
<pre><code class="language-r">ref(v)
</code></pre>
<pre><code>## [1:0x13059d690] &lt;int&gt;
</code></pre>
<pre><code class="language-r">ref(m)
</code></pre>
<pre><code>## [1:0x120aec688] &lt;int[,6]&gt;
</code></pre>
<pre><code class="language-r">ref(a)
</code></pre>
<pre><code>## [1:0x120b16e18] &lt;int[,3,4]&gt;
</code></pre>
<p>从占用空间大小上看，矩阵是最省的。</p>
<pre><code class="language-r">obj_size(v)
</code></pre>
<pre><code>## 856 B
</code></pre>
<pre><code class="language-r">obj_size(m)
</code></pre>
<pre><code>## 344 B
</code></pre>
<pre><code class="language-r">obj_size(a)
</code></pre>
<pre><code>## 352 B
</code></pre>
<h2 id="变量的规格">变量的规格</h2>
<p>在R语言中，有多个函数可以用来查看变量（数据框、矩阵等）的规格，即行数和列数以及其他相关信息。以下是其中一些常用的函数：</p>
<ol>
<li>
<p><strong><code>dim()</code> 函数：</strong> 返回一个对象的维度，包括行数和列数。</p>
<pre><code class="language-r"># 示例：数据框的规格
data &lt;- data.frame(A = 1:3, B = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;))
dim(data)
</code></pre>
<pre><code>## [1] 3 2
</code></pre>
</li>
<li>
<p><strong><code>nrow()</code> 和 <code>ncol()</code> 函数：</strong> 分别返回对象的行数和列数。</p>
<pre><code class="language-r"># 示例：矩阵的规格
matrix_data &lt;- matrix(1:6, nrow = 2, ncol = 3)
nrow(matrix_data)
</code></pre>
<pre><code>## [1] 2
</code></pre>
<pre><code class="language-r">ncol(matrix_data)
</code></pre>
<pre><code>## [1] 3
</code></pre>
</li>
<li>
<p><strong><code>str()</code> 函数：</strong> 显示对象的整体结构，包括规格、列名、列类型等。</p>
<pre><code class="language-r"># 示例：数据框的结构
str(data)
</code></pre>
<pre><code>## 'data.frame':	3 obs. of  2 variables:
##  $ A: int  1 2 3
##  $ B: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot;
</code></pre>
</li>
<li>
<p><strong><code>summary()</code> 函数：</strong> 提供对象的统计摘要，包括最小值、最大值、中位数等。</p>
<pre><code class="language-r"># 示例：向量的摘要
vector_data &lt;- c(1, 2, 3, 4, 5)
summary(vector_data)
</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       1       2       3       3       4       5
</code></pre>
</li>
<li>
<p><strong><code>length()</code> 函数：</strong> 返回对象的长度。对于矩阵和数据框，它返回列数。</p>
<pre><code class="language-r"># 示例：矩阵的列数
length(matrix_data)
</code></pre>
<pre><code>## [1] 6
</code></pre>
</li>
</ol>
<p>这些函数提供了不同层次的信息，你可以根据需要选择使用。<code>dim()</code>、<code>nrow()</code>、<code>ncol()</code>、<code>length()</code> 主要用于矩阵和数据框，而 <code>str()</code> 和 <code>summary()</code> 适用于多种对象类型。</p>
<pre><code class="language-r">dim(v)
</code></pre>
<pre><code>## NULL
</code></pre>
<pre><code class="language-r">dim(m)
</code></pre>
<pre><code>## [1] 4 6
</code></pre>
<pre><code class="language-r">dim(a)
</code></pre>
<pre><code>## [1] 2 3 4
</code></pre>
<pre><code class="language-r">length(v)
</code></pre>
<pre><code>## [1] 24
</code></pre>
<pre><code class="language-r">length(m)
</code></pre>
<pre><code>## [1] 24
</code></pre>
<pre><code class="language-r">length(a)
</code></pre>
<pre><code>## [1] 24
</code></pre>
<pre><code class="language-r">nrow(v)
</code></pre>
<pre><code>## NULL
</code></pre>
<pre><code class="language-r">nrow(m)
</code></pre>
<pre><code>## [1] 4
</code></pre>
<pre><code class="language-r">nrow(a)
</code></pre>
<pre><code>## [1] 2
</code></pre>

</div>
</main>

<section class="appendix">


<div>
  <div class="side side-left"><h3>作者简介</h3></div>
  <div>






</div>
</div>






<div>
  <div class="side side-left"><h3>重复使用</h3></div>
  Text and figures are licensed under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution CC BY 4.0</a>. The source code is licensed under MIT. The full source is available at <a href="https://github.com/yihui/hugo-prose">https://github.com/yihui/hugo-prose</a>.
</div>



<div>
  <div class="side side-left"><h3>欢迎修订</h3></div>
  
  
  
    
  
  如果您发现本文里含有任何错误（包括错别字和标点符号），欢迎<a href="https://github.com/gaospecial/bio-spring/edit/master/content/post/2023-12-04-data-structure-in-r/index.zh.Rmd" id="edit-link">在本站的 GitHub 项目里提交修订意见。</a>
</div>




<div>
  <div class="side side-left"><h3>引用本文</h3></div>
  <p>如果您使用了本文的内容，请按照以下方式引用：</p>
  <pre><code>Package Build (2023). R中的基础数据结构. BIO-SPRING. bio-spring/post/2023/12/04/data-structure-in-r/</code></pre>
  <p>BibTeX citation</p>
  <pre><code>@misc{
  title = "R中的基础数据结构",
  author = "Package Build",
  year = "2023",
  journal = "BIO-SPRING",
  note = "bio-spring/post/2023/12/04/data-structure-in-r/"
}</code></pre>
</div>

</section>



<nav class="post-nav">
  <span class="nav-next">&larr; <a href="bio-spring/post/2023/09/13/git-add-multiple-remotes/" title=下一篇&#32;(旧)>Git 添加多个 remote</a></span>
  &hercon;
  <span class="nav-prev"><a href="bio-spring/post/2023/12/24/blogdown-site-to-gh-pages/" title=上一篇&#32;(新)>部署网站到 gh-pages</a> &rarr;</span>
</nav>




<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//bio-spring.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var t = d.getElementById('disqus_thread');
    var b = false, l = function(scroll) {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
      if (scroll) t.scrollIntoView();
    }
    s.onerror = function(e) {
      if (sessionStorage.getItem('failure-note')) return;
      t.innerText = 'Sorry, but you cannot make comments because Disqus failed to load for some reason. It is known to be blocked in China. If you are sure it is not blocked in your region, please refresh the page. 中国大陆地区读者需要翻墙才能发表评论。';
      t.style.border = '1px dashed';
      t.style.padding = '.5em';
      t.style.background = 'lightyellow';
      sessionStorage.setItem('failure-note', true);
    };
    
    if (location.hash.match(/^#comment-[0-9]+$/)) return l(true);
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


</div>


  <footer>
  
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>



<script src="//yihui.org/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>



      <script async src="https://www.googletagmanager.com/gtag/js?id=G-77M8KZTCMR"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-77M8KZTCMR');
        }
      </script>


<script src="https://cdn.jsdelivr.net/combine/npm/@xiee/utils/js/number-sections.min.js,npm/@xiee/utils/js/toc.min.js,npm/@xiee/utils/js/toc-highlight.min.js,npm/@xiee/utils/js/sidenotes.min.js,npm/@xiee/utils/js/right-quote.min.js,npm/@xiee/utils/js/center-img.min.js,npm/@xiee/utils/js/fix-pandoc.min.js,npm/@xiee/utils/js/heading-anchor.min.js" defer></script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils/css/prism-xcode.min.css">
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" defer></script>


  <div class="footer">
  
  <ul class="copyright">
    <li>© <a href="https://bio-spring.top">Bio-Spring</a> 2006 &ndash; 2025 <a href="https://beian.miit.gov.cn">豫ICP备2021003240号</a></li>
  </ul>
  
  <ul>
    
    <li>
      <a href="/bio-spring/404.html">Contact</a>
    </li>
    
    <li class="optional">
      <a href="/bio-spring/categories/">Categories</a>
    </li>
    
    <li class="optional">
      <a href="/bio-spring/tags/">Tags</a>
    </li>
    
    <li id="menu-edit">
      <a href="#">Suggest an edit</a>
    </li>
    
    <li>
      <a href="#">Back to top</a>
    </li>
    
  </ul>
  </div>
  
  </footer>
  <script src="/bio-spring/js/features.js" defer></script>
  </body>
</html>

