<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title> linux-打造友好的shell提示符 [原创] | BIO-SPRING</title>
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils@v1.13.54/css/article.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils/css/heading-anchor.min.css">
    <link rel="stylesheet" href="/bio-spring/css/style.css" />
    <link rel="stylesheet" href="/bio-spring/css/fonts.css" />
    <link rel="stylesheet" href="/bio-spring/css/custom.css" />
    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="linux-打造友好的shell提示符 [原创]">
  <meta name="twitter:description" content="首先看一下原本的设来了提示符样子。
在ubuntu feisty的～/.bashrc配置文件里面， 最初的定义是这样的。
\# set a fancy prompt (non-color, unless we know we &#34;want&#34; color) case &#34;$TERM&#34; in xterm-color) PS1=&#39;${debian\_chroot:&#43;($debian\_chroot)}\\\[\\033\[01;32m\\\]\\u@\\h\\\[\\033\[00m\\\]:\\\[\\033\[01;34m\\\]\\w\\\[\\033\[00m\\\]\\&#39; ;; \*) PS1=&#39;${debian\_chroot:&#43;($debian\_chroot)}\\u@\\h:\\w\\$ &#39; ;; esac 我们只看这一行：
PS1=&#39;${debian\_chroot:&#43;($debian\_chroot)}\\u@\\h:\\w\\$ &#39;
环境变量：
注释：其中${xxxx}是个变量， \u代表目前的用户，\h代表主机名， \w代表工作路径，\$是‘$‘（\是转义符号，可以使用诸如\n，\t之类的）
颜色代码：
\[\\033\[01;32m\\\]是一个标准的颜色代码，由一个半中括号构成。其中第二个 ‘\[’ 后面是标准的 ANSI 颜色码。共有约二十种样式/颜色提供,详细信息请google.
我的shell提示符是这样的：
PS1=&#39;${debian\_chroot:&#43;($debian\_chroot)}\\\[\\033\[01;32m\\\]\\u\\\[\\033\[01;35m\\\]@\\\[\\033\[01;36m\\\]\\h\\\[\\033\[00m\\\]:\\\[\\033\[01;34m\\\]\\w\\n\\\[\\033\[01;39m\\\]$?\\\[\\033\[01;38m\\\]\\$ ’
具体意义是:当前的username由01;32m定义—绿色,同理@用红色,主机名用另一种颜色展示.然后显示当前目录并换行(之所以换行是因为有些目录很长),然后显示上一次操作的结果.1,2,3等可能表示一些常规的错误或者失败,具体的意义还不清楚.
［$?返回上一次操作的返回码，0表示成功］
该文于2007-10-10被赛迪网发布,遂被多处引用.但作者居然赫然写着:sixth.
TNND,看来得写个版权声明了.">


  </head>

  <body>

    <nav class="menu sticky-top">
    <ul>
      <li class="left">
        <a href="/"><span>BIO-SPRING</span></a>
      </li>
      
      <li>
        <a href="/bio-spring">Home</a>
      </li>
      
      <li>
        <a href="/bio-spring/post/">Blog Post</a>
      </li>
      
      <li>
        <a href="/bio-spring/publication/full-publication-list/">Publication</a>
      </li>
      
      <li>
        <a href="/bio-spring/work/">Work</a>
      </li>
      
      <li id="menu-search">
        <a href="/bio-spring/#">Search</a>
      </li>
      
    </ul>
    </nav>


<div class="container single">
<main>

<div class="article-meta">
<h1><span class="title">linux-打造友好的shell提示符 [原创]</span></h1>

<h3 class="author">
gaoch
</h3>

<h3 class="date">2007-10-04</h3>
<p class="terms">
  
  
  Categories: <a href="/categories/%E5%85%B6%E5%AE%83">其它</a> 
  
  
  
  Tags: <a href="/tags/%E6%97%A7%E6%96%87">旧文</a> 
  
  
</p>
</div>

<div class="article">
<p>首先看一下原本的设来了提示符样子。</p>
<p>在ubuntu feisty的～/.bashrc配置文件里面， 最初的定义是这样的。</p>
<pre><code class="language-shell">\# set a fancy prompt (non-color, unless we know we &quot;want&quot; color)  
case &quot;$TERM&quot; in  
xterm-color)  
PS1='${debian\_chroot:+($debian\_chroot)}\\\[\\033\[01;32m\\\]\\u@\\h\\\[\\033\[00m\\\]:\\\[\\033\[01;34m\\\]\\w\\\[\\033\[00m\\\]\\' ;;  
\*)  
PS1='${debian\_chroot:+($debian\_chroot)}\\u@\\h:\\w\\$ '  
;;  
esac  
</code></pre>
<p>我们只看这一行：<br>
<code>PS1='${debian\_chroot:+($debian\_chroot)}\\u@\\h:\\w\\$ '</code></p>
<p>环境变量：</p>
<p>注释：其中<code>${xxxx}</code>是个变量， \u代表目前的用户，\h代表主机名，
\w代表工作路径，\$是‘$‘（\是转义符号，可以使用诸如\n，\t之类的）</p>
<p>颜色代码：<br>
<code>\[\\033\[01;32m\\\]</code>是一个标准的颜色代码，由一个半中括号构成。其中第二个 ‘\[’ 后面是标准的 ANSI 颜色码。共有约二十种样式/颜色提供,详细信息请google.</p>
<p>我的shell提示符是这样的：<br>
<code>PS1='${debian\_chroot:+($debian\_chroot)}\\\[\\033\[01;32m\\\]\\u\\\[\\033\[01;35m\\\]@\\\[\\033\[01;36m\\\]\\h\\\[\\033\[00m\\\]:\\\[\\033\[01;34m\\\]\\w\\n\\\[\\033\[01;39m\\\]$?\\\[\\033\[01;38m\\\]\\$</code>
&rsquo;<br>
具体意义是:当前的username由01;32m定义&mdash;绿色,同理@用红色,主机名用另一种颜色展示.然后显示当前目录并换行(之所以换行是因为有些目录很长),然后显示上一次操作的结果.1,2,3等可能表示一些常规的错误或者失败,具体的意义还不清楚.</p>
<p>［$?返回上一次操作的返回码，0表示成功］</p>
<p>该文于2007-10-10被赛迪网发布,遂被多处引用.但作者居然赫然写着:sixth.</p>
<p>TNND,看来得写个版权声明了.</p>

</div>
</main>

<section class="appendix">


<div>
  <div class="side side-left"><h3>作者简介</h3></div>
  <div>





<div>Chun-Hui Gao is a Research Associate at <a href="http://www.hzau.edu.cn">Huazhong Agricultural University</a>.</div>


</div>
</div>






<div>
  <div class="side side-left"><h3>重复使用</h3></div>
  Text and figures are licensed under <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution CC BY 4.0</a>. The source code is licensed under MIT. The full source is available at <a href="https://github.com/yihui/hugo-prose">https://github.com/yihui/hugo-prose</a>.
</div>



<div>
  <div class="side side-left"><h3>欢迎修订</h3></div>
  
  
  
    
    
  
  如果您发现本文里含有任何错误（包括错别字和标点符号），欢迎<a href="https://github.com/gaospecial/bio-spring/edit/master/content/post/2007-10-04-colorful-shell-prompt/index.zh.md" id="edit-link">在本站的 GitHub 项目里提交修订意见。</a>
</div>




<div>
  <div class="side side-left"><h3>引用本文</h3></div>
  <p>如果您使用了本文的内容，请按照以下方式引用：</p>
  <pre><code>gaoch (2007). linux-打造友好的shell提示符 [原创]. BIO-SPRING. bio-spring/post/2007/10/04/colorful-shell-prompt/</code></pre>
  <p>BibTeX citation</p>
  <pre><code>@misc{
  title = "linux-打造友好的shell提示符 [原创]",
  author = "gaoch",
  year = "2007",
  journal = "BIO-SPRING",
  note = "bio-spring/post/2007/10/04/colorful-shell-prompt/"
}</code></pre>
</div>

</section>



<nav class="post-nav">
  <span class="nav-next">&larr; <a href="bio-spring/post/2007/10/03/about-my-experiment/" title=下一篇&#32;(旧)>实验---&gt;并非原地踏步</a></span>
  &hercon;
  <span class="nav-prev"><a href="bio-spring/post/2007/10/12/we-are-busy/" title=上一篇&#32;(新)>We are busy...</a> &rarr;</span>
</nav>




<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//bio-spring.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var t = d.getElementById('disqus_thread');
    var b = false, l = function(scroll) {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
      if (scroll) t.scrollIntoView();
    }
    s.onerror = function(e) {
      if (sessionStorage.getItem('failure-note')) return;
      t.innerText = 'Sorry, but you cannot make comments because Disqus failed to load for some reason. It is known to be blocked in China. If you are sure it is not blocked in your region, please refresh the page. 中国大陆地区读者需要翻墙才能发表评论。';
      t.style.border = '1px dashed';
      t.style.padding = '.5em';
      t.style.background = 'lightyellow';
      sessionStorage.setItem('failure-note', true);
    };
    
    if (location.hash.match(/^#comment-[0-9]+$/)) return l(true);
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


</div>


  <footer>
  
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>



<script src="//yihui.org/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>



      <script async src="https://www.googletagmanager.com/gtag/js?id=G-77M8KZTCMR"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-77M8KZTCMR');
        }
      </script>


<script src="https://cdn.jsdelivr.net/combine/npm/@xiee/utils/js/number-sections.min.js,npm/@xiee/utils/js/toc.min.js,npm/@xiee/utils/js/toc-highlight.min.js,npm/@xiee/utils/js/sidenotes.min.js,npm/@xiee/utils/js/right-quote.min.js,npm/@xiee/utils/js/center-img.min.js,npm/@xiee/utils/js/fix-pandoc.min.js,npm/@xiee/utils/js/heading-anchor.min.js" defer></script>



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@xiee/utils/css/prism-xcode.min.css">
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" defer></script>


  <div class="footer">
  
  <ul class="copyright">
    <li>© <a href="https://bio-spring.top">Bio-Spring</a> 2006 &ndash; 2025 <a href="https://beian.miit.gov.cn">豫ICP备2021003240号</a></li>
  </ul>
  
  <ul>
    
    <li>
      <a href="/bio-spring/404.html">Contact</a>
    </li>
    
    <li class="optional">
      <a href="/bio-spring/categories/">Categories</a>
    </li>
    
    <li class="optional">
      <a href="/bio-spring/tags/">Tags</a>
    </li>
    
    <li id="menu-edit">
      <a href="#">Suggest an edit</a>
    </li>
    
    <li>
      <a href="#">Back to top</a>
    </li>
    
  </ul>
  </div>
  
  </footer>
  <script src="/bio-spring/js/features.js" defer></script>
  </body>
</html>

