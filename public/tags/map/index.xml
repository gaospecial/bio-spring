<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>map on Hugo Prose</title>
    <link>/tags/map/</link>
    <description>Recent content in map on Hugo Prose</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 05 Jun 2012 00:00:00 +0000</lastBuildDate><atom:link href="/tags/map/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>MatLab中国地图进阶：以不同的颜色表示各省数据的差异</title>
      <link>/post/2012/06/05/2012-06-05-matlab-chinamap-coloring/</link>
      <pubDate>Tue, 05 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>/post/2012/06/05/2012-06-05-matlab-chinamap-coloring/</guid>
      <description>使用MatLab绘制中国地图十分方便，我在前文中已经有相应阐述。实际应用中，我们常常需要将不同的区域以不同的颜色展示出来，这就是本文要阐述的内容。
本文使用MatLab将各省人口数据展示出来，人口越多颜色越黄，人口越少颜色越绿。最终结果如下图所示（点击看大图）。
绘制过程如下：
%-- 分省中国地图在MATLAB中的画法 --% % Author: gaospecial@gmail.com % Date: 2012-6-5 14:04:01 % 地图数据来源：国家基础地理信息系统网站 % 人口数据来源：国家统计年鉴2011版 载入地图数据 载入各省的多边形数据
sheng=shaperead(&#39;maps/bou2_4p.shp&#39;, &#39;UseGeoCoords&#39;, true); % 省 % 检查数据发现中午名称为乱码，可能是由于字符编码引起的，需要纠正文件导入时出现的乱码 % 中文名称记录在相应的dbf文件中，可以使用Excel打开，并且不会出现乱码，截取其中的中文保存为文本文件 % 然后在导入工作区，并将其保存为*.mat格式文件，随用随取。 % 依次替换sheng数据中的乱码【算是变通之法，有谁知道更好的方法一定告诉我哦】 load chinese_name.mat% 省，省会，主要城市的正确中文 for i=1:length(sheng) sheng(i).NAME=sheng_chinese_name{i}; % 纠正中文显示错误 end unique(sheng_chinese_name) % 含有34个省（直辖市）的数据 length(sheng) % 共分为925个区块 ans = &#39;上海市&#39; &#39;云南省&#39; &#39;内蒙古自治区&#39; &#39;北京市&#39; &#39;台湾省&#39; &#39;吉林省&#39; &#39;四川省&#39; &#39;天津市&#39; &#39;宁夏回族自治区&#39; &#39;安徽省&#39; &#39;山东省&#39; &#39;山西省&#39; &#39;广东省&#39; &#39;广西壮族自治区&#39; &#39;新疆维吾尔自治区&#39; &#39;江苏省&#39; &#39;江西省&#39; &#39;河北省&#39; &#39;河南省&#39; &#39;浙江省&#39; &#39;海南省&#39; &#39;湖北省&#39; &#39;湖南省&#39; &#39;甘肃省&#39; &#39;福建省&#39; &#39;空&#39; &#39;西藏自治区&#39; &#39;贵州省&#39; &#39;辽宁省&#39; &#39;重庆市&#39; &#39;陕西省&#39; &#39;青海省&#39; &#39;香港特别行政区&#39; &#39;黑龙江省&#39; ans = 925 导入2011年各省人口数据 使用importdata向导导入2011年全国31个省的人口数据：data为人口数目 textdata为省名称</description>
    </item>
    
    <item>
      <title>使用Matlab画中国地图</title>
      <link>/post/2011/06/28/2011-06-28-print_china_map/</link>
      <pubDate>Tue, 28 Jun 2011 00:00:00 +0000</pubDate>
      
      <guid>/post/2011/06/28/2011-06-28-print_china_map/</guid>
      <description>使用Matlab绘制中国地图十分方便，使用Mapping工具箱中的几条命令。
介绍如下：
设置坐标轴：setm命令。
因为地球是圆的，所以地图的绘制涉及到投影的问题，跟普通的2-D或者3-D作图差别明显。setm命令专门用来设置map axis。例如：
[cc lang=”matlab”]
ax=worldmap(‘china’); %worldmap命令生成一个map axis，其各项属性可以用getm(ax)来获得
setm(ax,’grid’,’off’) % 关闭grid，其实就是经线和纬线
setm(ax,’frame’,’off’) % 关闭边框
setm(ax,’parallellabel’,’off’) % 关闭坐标轴标记，相当于X轴
setm(ax,’meridianlabel’,’off’) % 关闭坐标轴标记，相当于Y轴
[/cc]
绘制地图：geoshow或者mapshow
这两个命令差别不大，系统在判断参数的时候会自动在二者之间切换。不过他们其实还是有差别的。geoshow会根据经度和纬度来作图，如果我们的坐标轴以经纬度来标记，那么用mapshow图像就会不正确。
例如：
[cc lang=”matlab”]
geoshow(file) % 可以直接读取文件中数据作图
[/cc]
[cc lang=”matlab”]
mapshow(file) % 可以直接读取文件中数据作图
[/cc]
地图数据下载
中国的地图数据可以从国家基础地理信息系统的网站上下载，网址是http://nfgis.nsdi.gov.cn/。
地图数据说明
从国家基础地理信息系统的网站上下载得到的数据，分为两种：一种以“l”结尾，经过笔者的考虑，应当是line（线，曲线）的缩写，这些数据是线性的数据，描述了边界。另外一些数据，以“p”结尾，应当是polygon（多边形）的意思，这些数据描述了不同的区块。
另外，每组数据都有3个文件，分别以“shp”，“dbf”，“shx”为扩展名。需要注意的是，虽然我们在作图时只用到了“shp”数据，但是显然这样的一组数据才是完整的数据。
图片如下：
国家基础地理信息系统版权所有
这是一个以bou1_4l为基础的作图，可以看到南海的断续线。图内没有填充。
这是一个以bou1_4p为基础的作图，不可以看到南海的断续线。图内有填充。
这显然是由于曲线没有面积造成的。
参考资料：
MATLAB绘制中国地图 http://blog.sciencenet.cn/home.php?mod=space&amp;amp;uid=428536&amp;amp;do=blog&amp;amp;id=307997</description>
    </item>
    
  </channel>
</rss>
