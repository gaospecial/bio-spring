<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>COS on BIO-SPRING</title>
    <link>bio-spring/tags/cos/</link>
    <description>Recent content in COS on BIO-SPRING</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 11 Nov 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="bio-spring/tags/cos/" rel="self" type="application/rss+xml" />

    
      <item>
        <title>配置私有 Git LFS 服务器</title>
        <link>bio-spring/post/2024/11/11/private-git-lfs-server/</link>
        <pubDate>Mon, 11 Nov 2024 00:00:00 +0000</pubDate>
        <author>gaoch</author>
        <guid>bio-spring/post/2024/11/11/private-git-lfs-server/</guid>
        <description>
          &lt;p&gt;在 Git 项目中使用大文件已经成为非常普遍的事情了，例如在 Hugging face 下面的仓库中这样的情况比比皆是。&lt;/p&gt;
&lt;p&gt;为了能够“专业地”存储大文件，或许可以有以下几种方式：&lt;/p&gt;
&lt;h2 id=&#34;使用-nas-服务器&#34;&gt;使用 NAS 服务器&lt;/h2&gt;
&lt;p&gt;要将 NAS 作为 Git LFS 服务器，关键是让 NAS 提供 HTTP 或 SSH 文件存储服务，并将其作为 LFS 对象的存储端点。具体步骤如下：&lt;/p&gt;
&lt;h3 id=&#34;1-在-nas-上设置文件存储服务&#34;&gt;1. 在 NAS 上设置文件存储服务&lt;/h3&gt;
&lt;p&gt;确保 NAS 服务器支持 HTTP、HTTPS 或 SSH 服务，以便用于存储 LFS 对象。以下是常见设置方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTP/HTTPS&lt;/strong&gt;：如果 NAS 支持 Web 服务器功能，可以配置一个虚拟主机用于存储 LFS 对象。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSH&lt;/strong&gt;：确保 SSH 服务已启用，并为 LFS 服务器创建一个专门用户。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-初始化-git-仓库&#34;&gt;2. 初始化 Git 仓库&lt;/h3&gt;
&lt;p&gt;在本地创建或初始化一个 Git 仓库，并使用 &lt;code&gt;git lfs&lt;/code&gt; 初始化 LFS 配置：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git init
git lfs install
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-配置-lfs-远程端点&#34;&gt;3. 配置 LFS 远程端点&lt;/h3&gt;
&lt;p&gt;将 LFS 端点配置为 NAS 的 HTTP 或 SSH 地址。编辑 &lt;code&gt;.lfsconfig&lt;/code&gt; 文件，并添加以下内容：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-ini&#34;&gt;[lfs]
url = &amp;quot;http://&amp;lt;NAS_IP&amp;gt;/path/to/lfs&amp;quot;   # 使用 HTTP/HTTPS
# url = &amp;quot;ssh://user@&amp;lt;NAS_IP&amp;gt;/path/to/lfs&amp;quot;  # 使用 SSH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;将 &lt;code&gt;&amp;lt;NAS_IP&amp;gt;&lt;/code&gt; 替换为 NAS 的 IP 地址，&lt;code&gt;path/to/lfs&lt;/code&gt; 为存储 LFS 对象的目录路径。&lt;/p&gt;
&lt;h3 id=&#34;4-上传-lfs-对象&#34;&gt;4. 上传 LFS 对象&lt;/h3&gt;
&lt;p&gt;在配置好 NAS 地址后，添加大文件并推送到 LFS：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git lfs track &amp;quot;*.largefile&amp;quot;
git add .gitattributes
git add &amp;lt;large_file&amp;gt;
git commit -m &amp;quot;Add large file&amp;quot;
git push origin main
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-测试-lfs-存储&#34;&gt;5. 测试 LFS 存储&lt;/h3&gt;
&lt;p&gt;通过 NAS 的管理界面或命令行确认文件已存储到 LFS 目录。&lt;/p&gt;
&lt;h2 id=&#34;使用阿里云的-oss-存储服务&#34;&gt;使用阿里云的 OSS 存储服务&lt;/h2&gt;
&lt;p&gt;要将阿里云作为 Git LFS 文件服务器，可以使用阿里云对象存储 OSS (Object Storage Service) 来存储 LFS 对象。这里是具体的配置步骤：&lt;/p&gt;
&lt;h3 id=&#34;1-开通-oss-服务&#34;&gt;1. 开通 OSS 服务&lt;/h3&gt;
&lt;p&gt;在阿里云控制台开通 OSS 服务并创建一个存储桶 (Bucket)，用于存放 Git LFS 对象。&lt;/p&gt;
&lt;h3 id=&#34;2-创建访问密钥&#34;&gt;2. 创建访问密钥&lt;/h3&gt;
&lt;p&gt;前往阿里云控制台的 &lt;strong&gt;访问控制&lt;/strong&gt;（RAM），创建一个专用用户，并生成访问密钥（Access Key ID 和 Access Key Secret），授予 OSS 的读写权限。&lt;/p&gt;
&lt;h3 id=&#34;3-配置-oss-存储桶权限&#34;&gt;3. 配置 OSS 存储桶权限&lt;/h3&gt;
&lt;p&gt;将 OSS 存储桶设置为私有，以确保数据安全。然后，您可以选择通过 &lt;strong&gt;OSS 签名 URL&lt;/strong&gt; 或 &lt;strong&gt;自定义的 API&lt;/strong&gt; 访问这些文件。&lt;/p&gt;
&lt;h3 id=&#34;4-配置-git-lfs-指向-oss&#34;&gt;4. 配置 Git LFS 指向 OSS&lt;/h3&gt;
&lt;p&gt;Git LFS 本身不支持直接与 OSS 交互，所以需要通过 LFS 代理来实现，例如 &lt;a href=&#34;https://github.com/git-lfs/lfs-test-server&#34;&gt;lfs-test-server&lt;/a&gt;。以下是主要配置步骤：&lt;/p&gt;
&lt;h4 id=&#34;a-在服务器上安装和配置-lfs-test-server&#34;&gt;a. 在服务器上安装和配置 lfs-test-server&lt;/h4&gt;
&lt;p&gt;将 lfs-test-server 部署到您的服务器上，并将其配置为中转 Git LFS 请求到 OSS。您可以使用 Docker 部署 lfs-test-server，命令如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker run -d -p 9999:8080 \
  -e LFS_BASE_URL=https://&amp;lt;your-domain&amp;gt;/lfs \
  -e LFS_AUTH=true \
  -e AWS_ACCESS_KEY_ID=&amp;lt;your-access-key-id&amp;gt; \
  -e AWS_SECRET_ACCESS_KEY=&amp;lt;your-access-key-secret&amp;gt; \
  -e LFS_STORE_DIR=/data \
  -v /path/to/data:/data \
  -e LFS_ENDPOINT=https://&amp;lt;oss-endpoint&amp;gt;/&amp;lt;bucket-name&amp;gt; \
  ghcr.io/git-lfs/lfs-test-server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;替换以下参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;your-domain&amp;gt;&lt;/code&gt;：服务器域名或 IP 地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;your-access-key-id&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;your-access-key-secret&amp;gt;&lt;/code&gt;：阿里云的访问密钥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;oss-endpoint&amp;gt;&lt;/code&gt;：OSS 终端，例如 &lt;code&gt;oss-cn-shanghai.aliyuncs.com&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;bucket-name&amp;gt;&lt;/code&gt;：OSS 存储桶名称&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;b-配置-git-lfs-使用代理&#34;&gt;b. 配置 Git LFS 使用代理&lt;/h4&gt;
&lt;p&gt;在 Git 仓库中创建或编辑 &lt;code&gt;.lfsconfig&lt;/code&gt; 文件，指向您服务器上配置的 lfs-test-server：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-ini&#34;&gt;[lfs]
url = &amp;quot;https://&amp;lt;your-domain&amp;gt;/lfs&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-使用-git-lfs-推送和拉取文件&#34;&gt;5. 使用 Git LFS 推送和拉取文件&lt;/h3&gt;
&lt;p&gt;完成配置后，您可以像平常一样使用 Git LFS 进行文件的添加和推送：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git lfs track &amp;quot;*.largefile&amp;quot;
git add .gitattributes
git add &amp;lt;large_file&amp;gt;
git commit -m &amp;quot;Add large file&amp;quot;
git push origin main
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-测试-oss-存储&#34;&gt;6. 测试 OSS 存储&lt;/h3&gt;
&lt;p&gt;通过 OSS 控制台查看存储桶，确认文件已成功上传到 OSS。&lt;/p&gt;
&lt;h2 id=&#34;使用腾讯云的-cos-存储服务&#34;&gt;使用腾讯云的 COS 存储服务&lt;/h2&gt;
&lt;p&gt;要将腾讯云配置为 Git LFS 的服务器，可以使用腾讯云对象存储 COS (Cloud Object Storage) 来存储 Git LFS 对象。以下是具体的步骤：&lt;/p&gt;
&lt;h3 id=&#34;1-开通-cos-服务&#34;&gt;1. 开通 COS 服务&lt;/h3&gt;
&lt;p&gt;在腾讯云控制台开通 COS 服务，并创建一个存储桶 (Bucket) 来存储 Git LFS 对象。可以根据实际需求设置桶的访问权限为私有或公有读。&lt;/p&gt;
&lt;h3 id=&#34;2-获取访问密钥&#34;&gt;2. 获取访问密钥&lt;/h3&gt;
&lt;p&gt;前往腾讯云控制台的 &lt;strong&gt;访问管理&lt;/strong&gt;（CAM），创建一个新用户或使用已有用户，确保有 COS 读写权限，并获取该用户的 &lt;strong&gt;SecretId&lt;/strong&gt; 和 &lt;strong&gt;SecretKey&lt;/strong&gt;。&lt;/p&gt;
&lt;h3 id=&#34;3-配置-cos-存储桶权限&#34;&gt;3. 配置 COS 存储桶权限&lt;/h3&gt;
&lt;p&gt;建议将 COS 存储桶的权限设置为私有，以确保数据安全。通过 COS 的签名 URL 或代理服务来实现 Git LFS 的访问控制。&lt;/p&gt;
&lt;h3 id=&#34;4-部署-git-lfs-服务器代理&#34;&gt;4. 部署 Git LFS 服务器代理&lt;/h3&gt;
&lt;p&gt;由于 Git LFS 本身无法直接与 COS 交互，需要部署一个 LFS 代理服务器来实现对 COS 的中转。可以使用 &lt;a href=&#34;https://github.com/git-lfs/lfs-test-server&#34;&gt;lfs-test-server&lt;/a&gt; 作为 Git LFS 的服务器代理。以下是具体步骤：&lt;/p&gt;
&lt;h4 id=&#34;a-安装和配置-lfs-test-server&#34;&gt;a. 安装和配置 lfs-test-server&lt;/h4&gt;
&lt;p&gt;在您的服务器上安装 &lt;code&gt;lfs-test-server&lt;/code&gt;，可以使用 Docker 快速部署：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker run -d -p 9999:8080 \
  -e LFS_BASE_URL=https://&amp;lt;your-domain&amp;gt;/lfs \
  -e LFS_AUTH=true \
  -e AWS_ACCESS_KEY_ID=&amp;lt;your-secret-id&amp;gt; \
  -e AWS_SECRET_ACCESS_KEY=&amp;lt;your-secret-key&amp;gt; \
  -e LFS_STORE_DIR=/data \
  -v /path/to/data:/data \
  -e LFS_ENDPOINT=https://&amp;lt;cos-endpoint&amp;gt;/&amp;lt;bucket-name&amp;gt; \
  ghcr.io/git-lfs/lfs-test-server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;替换以下参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;your-domain&amp;gt;&lt;/code&gt;：服务器的域名或 IP 地址&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;your-secret-id&amp;gt;&lt;/code&gt; 和 &lt;code&gt;&amp;lt;your-secret-key&amp;gt;&lt;/code&gt;：腾讯云的 SecretId 和 SecretKey&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;cos-endpoint&amp;gt;&lt;/code&gt;：COS 终端（例如 &lt;code&gt;cos.ap-guangzhou.myqcloud.com&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;bucket-name&amp;gt;&lt;/code&gt;：COS 存储桶名称&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;b-配置-git-lfs-使用代理-1&#34;&gt;b. 配置 Git LFS 使用代理&lt;/h4&gt;
&lt;p&gt;在 Git 仓库中创建或编辑 &lt;code&gt;.lfsconfig&lt;/code&gt; 文件，将 LFS 的 URL 配置为代理服务器地址：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-ini&#34;&gt;[lfs]
url = &amp;quot;https://&amp;lt;your-domain&amp;gt;/lfs&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;5-添加大文件并推送到-lfs&#34;&gt;5. 添加大文件并推送到 LFS&lt;/h3&gt;
&lt;p&gt;完成配置后，可以像常规 Git LFS 操作一样，添加大文件并推送到 LFS：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;git lfs track &amp;quot;*.largefile&amp;quot;
git add .gitattributes
git add &amp;lt;large_file&amp;gt;
git commit -m &amp;quot;Add large file&amp;quot;
git push origin main
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-验证-cos-存储&#34;&gt;6. 验证 COS 存储&lt;/h3&gt;
&lt;p&gt;在腾讯云 COS 控制台查看存储桶，确认 Git LFS 对象已成功上传至 COS。&lt;/p&gt;
&lt;h2 id=&#34;局部访问权限&#34;&gt;局部访问权限&lt;/h2&gt;
&lt;p&gt;在 GitHub Organization 内部公开的仓库中使用私有化的 OSS 存储，并希望仅对组织内具有仓库访问权限的成员开放 LFS 文件的访问，可以采用以下方法，以确保访问控制在组织范围内实现：&lt;/p&gt;
&lt;h3 id=&#34;1-使用-oss-的临时访问凭证和签名-url&#34;&gt;1. 使用 OSS 的临时访问凭证和签名 URL&lt;/h3&gt;
&lt;p&gt;利用阿里云 RAM（资源访问管理）中的 &lt;strong&gt;STS（Security Token Service）&lt;/strong&gt;，生成带有临时访问权限的签名 URL。这种方法适用于为每位有权限的组织成员提供有限时效的访问链接。&lt;/p&gt;
&lt;h4 id=&#34;设置步骤&#34;&gt;设置步骤：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;配置 RAM 角色&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在阿里云控制台中，创建一个 RAM 角色，并授予该角色对 OSS 存储桶的读取权限。&lt;/li&gt;
&lt;li&gt;在 GitHub Actions 或其他自动化脚本中，使用该角色来生成签名 URL。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;使用 STS 生成临时签名 URL&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用阿里云 SDK 或 API 生成具有临时访问凭证的签名 URL。&lt;/li&gt;
&lt;li&gt;生成的 URL 可直接嵌入到 GitHub 的 README 或发布页面，但由于有时间限制，URL 可能需要定期刷新。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;示例 Python 代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import oss2
import time

# 使用 STS 获取临时访问凭证
auth = oss2.Auth(&#39;&amp;lt;AccessKeyId&amp;gt;&#39;, &#39;&amp;lt;AccessKeySecret&amp;gt;&#39;)
bucket = oss2.Bucket(auth, &#39;http://oss-cn-shanghai.aliyuncs.com&#39;, &#39;&amp;lt;bucket-name&amp;gt;&#39;)

# 设置有效期，单位为秒（如 3600 秒即 1 小时）
signed_url = bucket.sign_url(&#39;GET&#39;, &#39;path/to/largefile&#39;, 3600)
print(&amp;quot;Signed URL:&amp;quot;, signed_url)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;将签名 URL 提供给组织成员&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可在 GitHub Actions 中自动生成签名 URL，将其写入 README 或通知组织成员。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-使用-github-actions-动态生成访问权限&#34;&gt;2. 使用 GitHub Actions 动态生成访问权限&lt;/h3&gt;
&lt;p&gt;利用 GitHub Actions 在特定工作流中动态生成签名 URL，并通过 GitHub Secrets 管理 Access Key 信息。这样，组织内部访问者可以使用 Actions 生成的临时 URL。&lt;/p&gt;
&lt;h4 id=&#34;设置步骤-1&#34;&gt;设置步骤：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;配置 GitHub Secrets&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在仓库设置中，将阿里云的 Access Key 和 Secret Key 添加为 Secrets。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;配置 GitHub Actions 工作流&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用 GitHub Actions 定义一个工作流，生成签名 URL，供组织内成员访问。例如：&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;name: Generate LFS Signed URL

on:
  workflow_dispatch:  # 手动触发工作流

jobs:
  generate-url:
    runs-on: ubuntu-latest
    steps:
      - name: Set up Python
        uses: actions/setup-python@v2
        with:
          python-version: &#39;3.x&#39;

      - name: Install oss2
        run: pip install oss2

      - name: Generate Signed URL
        env:
          ACCESS_KEY_ID: ${{ secrets.ACCESS_KEY_ID }}
          ACCESS_KEY_SECRET: ${{ secrets.ACCESS_KEY_SECRET }}
        run: |
          import oss2
          auth = oss2.Auth(&#39;${{ secrets.ACCESS_KEY_ID }}&#39;, &#39;${{ secrets.ACCESS_KEY_SECRET }}&#39;)
          bucket = oss2.Bucket(auth, &#39;http://oss-cn-shanghai.aliyuncs.com&#39;, &#39;bucket-name&#39;)
          signed_url = bucket.sign_url(&#39;GET&#39;, &#39;path/to/largefile&#39;, 3600)
          print(&amp;quot;Signed URL:&amp;quot;, signed_url)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;通知组织成员&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;执行该工作流生成的 URL 可发布到 GitHub Issues、Wiki 或 README 中的受限访问部分。组织内具有仓库访问权限的成员即可使用该 URL。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-使用专用的-web-代理服务控制权限&#34;&gt;3. 使用专用的 Web 代理服务控制权限&lt;/h3&gt;
&lt;p&gt;部署一个内部 Web 代理服务来充当 Git LFS 文件访问的中介，通过组织成员的 GitHub 登录信息控制访问。该代理服务从 OSS 获取文件，并将其返回给经过验证的用户。&lt;/p&gt;
&lt;h4 id=&#34;设置步骤-2&#34;&gt;设置步骤：&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;构建 Web 代理&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用例如 OAuth 的 GitHub 登录认证方式来验证用户是否为组织成员。&lt;/li&gt;
&lt;li&gt;验证通过后，代理服务使用 Access Key 从 OSS 下载 LFS 文件，并提供下载服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;配置组织内用户访问&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将 Web 代理的 URL 公开在 GitHub 仓库中，供组织成员访问。&lt;/li&gt;
&lt;li&gt;该代理服务可根据用户请求动态生成签名 URL，并将文件传递给用户。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这种方法适合需要精细控制访问权限的情况。通过代理服务，只有组织成员能够访问文件内容，同时避免了将 OSS 存储桶直接公开。&lt;/p&gt;
&lt;h2 id=&#34;费用&#34;&gt;费用&lt;/h2&gt;
&lt;p&gt;云存储的存储、访问、取回都要收费。以阿里云为例，其 OSS 的费用主要包括以下几部分：&lt;/p&gt;
&lt;h3 id=&#34;1-存储费用&#34;&gt;1. 存储费用&lt;/h3&gt;
&lt;p&gt;存储费用基于存储在 OSS 中的数据量，按 GB 每月收费。价格因存储类型不同而异：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;标准存储&lt;/strong&gt;：适合频繁访问的数据，价格最高。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;低频访问存储&lt;/strong&gt;：适合不频繁访问的数据，价格较低，但有最低存储时间要求（通常为30天）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;归档存储&lt;/strong&gt;：适合长期备份的数据，价格更低，但有更长的存储时间要求，数据恢复速度较慢。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;冷归档存储&lt;/strong&gt;：适合极少访问的冷数据，价格最低，恢复数据可能需要数小时。&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;：如果文件存储在低频或归档类型中，但被频繁访问，额外的读取请求费用可能较高。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-请求费用&#34;&gt;2. 请求费用&lt;/h3&gt;
&lt;p&gt;请求费用基于对 OSS 的操作次数，包括上传、下载、删除等请求，按千次请求数计费。不同存储类型的请求费用略有差异。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PUT、COPY、POST 和 LIST 请求&lt;/strong&gt;：上传或列出文件的请求收费较低。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GET 和 HEAD 请求&lt;/strong&gt;：读取文件的请求通常费用较高。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-数据传输费用&#34;&gt;3. 数据传输费用&lt;/h3&gt;
&lt;p&gt;数据传输费用指从 OSS 传出数据的费用。主要根据流量计费：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;出网流量&lt;/strong&gt;：从 OSS 下载数据到公网（例如下载到本地或其他网络）的流量按 GB 收费。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;内网流量&lt;/strong&gt;：阿里云同一地域内的云服务间的数据传输通常免费，例如 OSS 与 ECS 实例在同一区域内传输数据。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;跨区域流量&lt;/strong&gt;：数据在不同地域间传输会收取费用，按 GB 计费。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-数据处理费用可选&#34;&gt;4. 数据处理费用（可选）&lt;/h3&gt;
&lt;p&gt;如果使用 OSS 提供的附加功能（如图片处理、音视频转码），则会产生额外费用。这些费用基于处理请求的次数和数据量。&lt;/p&gt;
&lt;h3 id=&#34;费用示例&#34;&gt;费用示例&lt;/h3&gt;
&lt;p&gt;假设您使用 &lt;strong&gt;标准存储&lt;/strong&gt;，存储了 100 GB 数据，产生了 1,000 次上传请求和 1,000 次下载请求，并传输了 10 GB 数据到公网。大致费用如下（具体价格需参考阿里云官网最新信息）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;存储费用&lt;/strong&gt;：100 GB × 标准存储单价&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;请求费用&lt;/strong&gt;：1,000 PUT 请求 × 单价 + 1,000 GET 请求 × 单价&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;传输费用&lt;/strong&gt;：10 GB × 出网流量单价&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;阿里云 OSS 价格会随时更新，访问 &lt;a href=&#34;https://cn.aliyun.com/price/detail/oss?from_alibabacloud=&#34;&gt;阿里云 OSS 价格页面&lt;/a&gt; 获取最新和详细的费用信息。&lt;/p&gt;

        </description>
      </item>
    
  </channel>
</rss>
